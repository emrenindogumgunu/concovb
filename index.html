<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Emre'nin Doğum Günü</title>

<style>
body{
margin:0;
height:100vh;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
background:linear-gradient(135deg,#001f3f,#003366,#004080);
font-family:Arial;
color:#4da6ff;
}

h1{
font-size:45px;
animation:glow 2s infinite alternate;
}

@keyframes glow{
from{ text-shadow:0 0 10px #0066ff; }
to{ text-shadow:0 0 30px #66ccff; }
}

#counter{
font-size:28px;
margin:20px;
}

button{
padding:18px 40px;
font-size:20px;
border:none;
border-radius:50px;
background:#0066ff;
color:white;
cursor:pointer;
}
</style>
</head>
<body>

<h1>EMRE'NİN DOĞUM GÜNÜ</h1>
<div id="counter">Yükleniyor...</div>
<button onclick="kutla()">Kutlamak İçin Tıkla</button>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
const supabase = window.supabase.createClient(
  "icnydfwcxgpvnaqyvufo",
  "sb_publishable_gcCuunm8wRFlIrn9ZEh7eg_IeHXaUJg"
);

async function loadCount(){
  let { data } = await supabase
    .from('counter')
    .select('value')
    .eq('id',1)
    .single();
  document.getElementById("counter").innerText =
    "Toplam Kutlama: " + data.value;
}

async function kutla(){
  if(localStorage.getItem("kutladim")){
    alert("Zaten kutladın!");
    return;
  }

  let { data } = await supabase
    .from('counter')
    .select('value')
    .eq('id',1)
    .single();

  await supabase
    .from('counter')
    .update({ value: data.value + 1 })
    .eq('id',1);

  localStorage.setItem("kutladim","evet");
  loadCount();
}

loadCount();
</script>

</body>
</html>


</body>
</html>
